#summary Gravatar bbPress Plugin
#labels Featured,P-Gravatar

=Introduction=

A simple plugin for Gravatar.

==Demonstration==

  * [http://www.livibetter.com/it/profile/livibetter Profile Page]
  * [http://www.livibetter.com/it/topic/create-views?replies=1 Topic Page]

==Features==

  * Support Default Image
  * Size customized (1..80px)
  * Option page (NOT YET IMPLEMENTED)
  * Default Image based on roles (NOT YET IMPLEMENTED)

=Installation=

==Basic Steps==

  * Unzip to `my-plugins`
  * Activate

==Theme Modifications==

The following assumes using *Kakumei*. You may need to make you own if you use different theme.

===`post.php` and `style.css`===
line 2 in `post.php`
{{{
<p><strong><?php post_author_link(); ?></strong><br />
  <small><?php post_author_title(); ?></small></p>
}}}
Add a line like
{{{
<p><strong><?php post_author_link(); ?></strong><br />
  <?php GAImage() ?>
  <small><?php post_author_title(); ?></small></p>
}}}

Add a new style to `style.css`
{{{
.threadpost {
    min-height: 100px;
    }
}}}

You can also add your own styles, and apply `class` to `GAImage()` (Read Usage section for more detail or next subsection for an example).

===`profile.php`===

You can add a bigger avatar in profile page. Insert a line code before `<?php bb_profile_data(); ?>`, that looks like
{{{
<?php GAImageURI(0, 80, 'border: 1px solid gold', 'right'); ?>
<?php bb_profile_data(); ?>
}}}
Where `right` is a preset class in *Kakumei*. It is `float: right`.

=Customization=

==Default Image==

You can put your own default image instead of Gravatar's. If the members didn't set their Gravatar Emails in their profiles. Their avatars are default image.

This plug-in search and use the image in the following order:

  # my-plugins/gravatar-default.jpg
  # my-plugins/gravatar-default.gif
  # my-plugins/gravatar-default.png
  # bb-template/current_template/gravatar-default.jpg
  # bb-template/current_template/gravatar-default.gif
  # bb-template/current_template/gravatar-default.png

=Usage=

==Setting your own Gravatar Email==

Go checking your profile page, and edit it. There should be an additional field called *Gravatar Email*. This plug-in use this field to display Gravatar's avatar not user's registered email. *Gravatar Email* will only be shown to whom has privilege to edit the user's profile. That means only Key Master, Administrator can see others' Gravatar Email.

==Functions==

===`GAGetImageURI`===

Returns `src` for `<img>` tag.

  * `$id=0` - User ID
  * `$size=64` - The size (px) of avatar. Currently, it is up to 80px.

===`GAImageURI`===

The `echo` version of `GAGetImageURI`

===`GAGetImage`===

Returns complete `<img>` tag.

  * `$id=0` - User ID
  * `$size=64` - The size (px) of avatar. Currently, it is up to 80px.
  * `$style='border: 1px solid black'` - style attribute of `img`
  * `$class=''` - class attribute of `img`

===`GAImageURI`===

The `echo` version of `GAImage`